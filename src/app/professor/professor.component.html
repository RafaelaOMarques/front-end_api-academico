<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">


<h1>PROFESSORES</h1>

<fieldset>
  <form [formGroup]="professorForm" (ngSubmit)="handleSubmit()">
    <div class="container">
      <div>
        <label for="nome">Nome Completo:</label>
        <input type="text" id="nome" formControlName="nome" required />
      </div>
      <div>
        <label for="cpf">CPF:</label>
        <input type="text" id="cpf" formControlName="cpf" required mask="000.000.000-00" />
      </div>
      <div>
        <label for="celular">Celular:</label>
        <input type="tel" id="celular" formControlName="celular" required mask="(00)00000-0000" />
      </div>
    </div>
    <div class="container">
      <div>
        <label for="nascimento">Data de Nasc.:</label>
        <input type="date" id="nascimento" formControlName="dataNascimento" required />
      </div>
      <div>
        <label for="email">E-mail:</label>
        <input type="email" id="email" formControlName="email" required />
      </div>

      <div>
        <label for="apelido">Apelido:</label>
        <input type="text" id="apelido" formControlName="apelido" />
      </div>
    </div>

  </form>
  <div class="container-menu">
    <div class="menu">
      <button type="button submit" (click)="handleSubmit()">Cadastrar Professor</button>
      <button type="button" (click)="consultarProfessores()" (click)="exibirFormulario()">Consultar Professor</button>
      <button type="button" (click)="limparForm()">Limpar</button>
    </div>
  </div>

  <div *ngIf="errorMensagem" class="error-message">
    {{ errorMensagem }}
  </div>

  <table *ngIf="professores.length > 0">
    <thead>
      <tr>
        <th>ID</th>
        <th>Matricula</th>
        <th>Nome</th>
        <th>CPF</th>
        <!-- <th>Data de Nascimento</th> -->
        <th>Email</th>
        <th>Celular</th>
        <!-- <th>Apelido</th> -->
        <th>Deletar</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let professor of professores">
        <td>{{ professor.id }}</td>
        <td>{{ professor.matricula }}</td>
        <td id="td-nome">{{ professor.nome }}</td>
        <td>{{ professor.cpf }}</td>
        <!-- <td>{{ professor.dataNascimento | date }}</td> -->
        <td>{{ professor.email }}</td>
        <td>{{ professor.celular }}</td>
        <!-- <td>{{ professor.apelido || 'N/A' }}</td> -->
        <td><i class="fas fa-trash" (click)="deletarProfessor(professor.id!)"></i></td>
      </tr>
    </tbody>
  </table>
</fieldset>

<div *ngIf="modalSucesso" class="modal">
  <div class="modal-content">
    <span (click)="closeModal()" class="close">&times;</span>
    <p>{{ sucessoMensagem }}</p>
  </div>
</div>